// -----------------------------------------------------------------
// File:    LuaDescriptorModule.cs
// Author:  mouguangyi
// Date:    2016.08.12
// Description:
//      
// -----------------------------------------------------------------
using System.Text;

namespace GameBox.Service.LuaRuntime.ProtocolBuffer
{
    static class LuaDescriptorModule
    {
        public static void Install(ILuaRuntime luaRuntime)
        {
            string scriptString =
                @"module 'protobuf.descriptor'

                FieldDescriptor = {
                    TYPE_DOUBLE = 1,
                    TYPE_FLOAT = 2,
                    TYPE_INT64 = 3,
                    TYPE_UINT64 = 4,
                    TYPE_INT32 = 5,
                    TYPE_FIXED64 = 6,
                    TYPE_FIXED32 = 7,
                    TYPE_BOOL = 8,
                    TYPE_STRING = 9,
                    TYPE_GROUP = 10,
                    TYPE_MESSAGE = 11,
                    TYPE_BYTES = 12,
                    TYPE_UINT32 = 13,
                    TYPE_ENUM = 14,
                    TYPE_SFIXED32 = 15,
                    TYPE_SFIXED64 = 16,
                    TYPE_SINT32 = 17,
                    TYPE_SINT64 = 18,
                    MAX_TYPE = 18,

                    --Must be consistent with C++FieldDescriptor::CppType enum in
                    --   descriptor.h.
                    --  
                    CPPTYPE_INT32       = 1,
                    CPPTYPE_INT64       = 2,
                    CPPTYPE_UINT32      = 3,
                    CPPTYPE_UINT64      = 4,
                    CPPTYPE_DOUBLE      = 5,
                    CPPTYPE_FLOAT       = 6,
                    CPPTYPE_BOOL        = 7,
                    CPPTYPE_ENUM        = 8,
                    CPPTYPE_STRING      = 9,
                    CPPTYPE_MESSAGE     = 10,
                    MAX_CPPTYPE         = 10,

                    --   Must be consistent with C++ FieldDescriptor::Label enum in
                    --   descriptor.h.
                    --  
                    LABEL_OPTIONAL      = 1,
                    LABEL_REQUIRED      = 2,
                    LABEL_REPEATED      = 3,
                    MAX_LABEL           = 3
                }";

            luaRuntime.DoString(Encoding.UTF8.GetBytes(scriptString));
        }
    }
}